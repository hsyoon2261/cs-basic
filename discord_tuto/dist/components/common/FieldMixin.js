'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _reactTimerMixin=require('react-timer-mixin');var _reactTimerMixin2=_interopRequireDefault(_reactTimerMixin);var _Constants=require('../../Constants');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}var FieldMixin={mixins:[_reactTimerMixin2.default],contextTypes:_Constants.CONTEXT_TYPES,_ref:null,getField:function getField(){var name=arguments.length<=0||arguments[0]===undefined?this.props.name:arguments[0];return this.context.getField(name);},initField:function initField(obj){var _props=this.props;var name=_props.name;var value=_props.value;var validator=_props.validator;return this.context.initField(_extends({name:name,value:value,validator:validator},obj));},setHasBeenTouched:function setHasBeenTouched(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$name=_ref.name;var name=_ref$name===undefined?this.props.name:_ref$name;var _ref$touched=_ref.touched;var touched=_ref$touched===undefined?true:_ref$touched;return this.context.setHasBeenTouched(name,touched);},setField:function setField(){var _ref2=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref2$name=_ref2.name;var name=_ref2$name===undefined?this.props.name:_ref2$name;var rest=_objectWithoutProperties(_ref2,['name']);return this.context.setField(_extends({name:name},rest));},removeField:function removeField(){var name=arguments.length<=0||arguments[0]===undefined?this.props.name:arguments[0];return this.context.removeField(name);},getValue:function getValue(){if(this._ref&&this._ref.value){return this._ref.value;}else{return this.getField().value;}},isSubmitting:function isSubmitting(){return this.context.isSubmitting;},canSubmit:function canSubmit(){return this.context.canSubmit;},submit:function submit(){return this.context.submit();},setRef:function setRef(ref){this._ref=ref;},componentDidMount:function componentDidMount(){var _this=this;var intervalCheck=this.props.intervalCheck;if(this._ref&&intervalCheck){this.setInterval(function(){var event=new Event('input',{bubbles:true});_this._ref.dispatchEvent(event);},intervalCheck);}},shouldUpdate:function shouldUpdate(nextContext){var name=this.props.name;return this.context.fields[name]!=nextContext.fields[name];}};exports.default=FieldMixin;module.exports=exports['default'];